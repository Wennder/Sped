<?php

namespace Sped\Schemas\V200;

require_once dirname(__FILE__) . '/../../../../../library/Sped/Schemas/V200/NFeDocument.php';

/**
 * Test class for NFeDocument.
 * Generated by PHPUnit on 2012-06-05 at 11:48:55.
 */
class NFeDocumentTest extends \PHPUnit_Framework_TestCase {

    /**
     * @var NFeDocument
     */
    protected $object;

    /**
     * Sets up the fixture, for example, opens a network connection.
     * This method is called before a test is executed.
     */
    protected function setUp() {
        $this->object = new NFeDocument;
        $this->object->formatOutput = true;
    }

    /**
     * Tears down the fixture, for example, closes a network connection.
     * This method is called after a test is executed.
     */
    protected function tearDown() {
        
    }

    /**
     * @todo Implement testGetNFe().
     */
    public function testGetNFe() {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
                'This test has not been implemented yet.'
        );
    }

    /**
     * @todo Implement testAddNFe().
     */
    public function testAddNFe() {
        $this->object->addNFe();
//        $ref = new \ReflectionClass($this->object->getNFe());
//        var_dump($ref->getNamespaceName());
        $this->object->getNFe()->addInfNFe()->addIde();
        $this->object->getNFe()->addSignature()->loadChildren();
        $this->object->getNFe()->getSignature()->getSignedInfo()->getReference()->getDigestValue()->setValue('123');
        $this->object->getNFe()->getSignature()->getKeyInfo()->getX509Data()->getX509Certificate()->setValue(base64_encode('123'));
//        $this->object->getNFe()->addSignature();
//        $this->object->getNFe()->addSignature();
//        $infNFe->setVersao('2.0')->setId('NFe123123123123123123123123')->addIde();
//        $nfe->addSignature()->loadChildren();
//        $sig = $nfe->getSignature();
//        var_dump($sig);
//        $sig->getKeyInfo()
//                ->getX509Data()
//                ->getX509Certificate()
//                ->setValue(base64_encode('123'));
        echo $this->object->saveXML();
        $this->assertTrue(true);
    }

    /**
     * @todo Implement testSetNFe().
     */
    public function testSetNFe() {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
                'This test has not been implemented yet.'
        );
    }

}

?>
